<div class="container" style="width: 40%">
  <!-- #template reference variable -->
  <div [hidden]="submitted">
    <h1>User Form</h1>
    <form (ngSubmit)="onSubmit()" #userForm="ngForm">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" [(ngModel)] = "user.name" name = "name" required #spy #username="ngModel">
        <div [hidden]="username.valid || username.pristine" class="alert alert-danger">Name is required</div>
        <div>(Name = {{user.name}}) [class = {{spy.className}}]</div>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="text" class="form-control" placeholder="(Optional)" id="email" [(ngModel)] = "user.email" name = "email">
        (Email  = {{user.email}})
      </div>
      <div class="form-group">
        <label for="sex">Sex</label>
        <select class="form-control" id="sex" [(ngModel)] = "user.sex" name = "sex" required>
          <option *ngFor="let each of sex" [value]="each">{{each}}</option>
        </select>
        (Sex = {{user.sex}})
      </div>
      <button type="submit" class="btn btn-success" [disabled]="!userForm.form.valid">Submit</button>
      <button type="button" class="btn btn-primary" (click)="createUser()">New</button>
      <button type="reset" class="btn btn-default">Reset</button>
      <div>{{user | json}}</div>
    </form>
  </div>
  <div [hidden]="!submitted">
    <h1>Review User </h1>
    <div class="row">
      <div>Name: {{ user.name }}</div>
    </div>
    <div class="row">
      <div>Email: {{ user.email }}</div>
    </div>
    <div class="row">
      <div>Sex: {{ user.sex }}</div>
    </div>
    <br>
    <button class="btn btn-primary" (click)="submitted=false">Edit</button>
  </div>
</div>